# CISC-499-XAI-For-Waste-Management-Using-EA
This repository contains the files associated with our CISC499 capstone project, including our model, the datasets we obtained our information from, and any scientific articles we used as references.

Our capstone project aims to use Explainable AI (XAI) to provide insights and reasoning into the optimal route for waste collection in Brooklyn, US. The motivation behind this project is due to the vast amount of waste generated in large cities that go unmanaged. This waste goes unmanaged due to un-optimized collection routes and frequencies. By modelling Brooklyn's waste collection using an evolutionary algorithm (EA), we can obtain the route that minimizes the distance covered and maximizes fuel efficiency.

Using XAI to provide reasoning for our results will help policy-makers understand the logic behind the model we used, which increases the potential for our optimized route to be implemented.

## Evolutionary Algorithm

Individuals of the population are represented as a permutation of the indices of every refuse bin in a given dataset. The class BinInfo contains a variety of functions that given one or more bin indices will return information such as: associated road names, the index of the closest bin, the distance between two bins, and the coordinates of a bin. To do this, BinInfo takes two datasets as input: BinLocations.csv, which contains information such as bin coordinates and street names, and BinDistances.csv, which contains the distance in kilometers between any two bins, calculated as the geodesic distance between them using their coordinates from BinLocations.csv.

Tournament selection is used to determine the mating pool. As this EA performs fundamentally the same task as the TSP, both Partially Mapped Crossover and Edge Crossover were implemented, since both do a good job preserving adjacency pairs in an individual. Inversion mutation is performed on the offspring, and finally mu + lambda is used for survivor selection.

To calculate the fitness of each individual, the number of bins in an individual is divided by the total length of its route. The route length is found by summing the distance given by BinInfo for each adjacent pair indices in the individual.

## Datasets
### BinLocations.csv:
Main dataset containing the direction of the bin (relative to the centre of the intersection), section code, street names, latitude and longitude for around 400 bins located in community district 1 of Brooklyn. Uses information from DSNY Litter Basket Inventory dataset.

Originally the mean refuse per community district was calculated and assigned to each bin using the DSNY Monthly Tonnage dataset (https://data.cityofnewyork.us/City-Government/DSNY-Monthly-Tonnage-Data/ebb7-mvp5/about_data). At the time, over 6500 bins were considered, however this became irrelevant when the scale was reduced to focusing on a single community district.

### BinDistances.csv:
A dictionary stored as a csv generated by distanceGenerator.py. Each row represents the distances (KM) between the bins represented by the row and column numbers. When imported, its used to create a list of dictionaries representing the distances associated with each action taken from each bin.

### BinLocations_Medium.csv / BinLocations_Small.csv:
Subsets of BinLocations.csv containing only 100 and 25 entries respectively.

### BinDistances_Medium.csv / BinDistances_Small.csv:
Newly generated dictionaries using medium and small bin location datasets.

### BrooklynSampleData.csv:
Public recycling bins dataset modified to only contain brooklyn locations. Due to its relatively small size compared to BinLocations.csv, it was initially used to test functionality of distanceGenerator.py earlier on in the term.

### sample_dist_mat.csv:
Output of distanceGenerator.py given latitudes and longitudes from BrooklynSampleData.csv.

## Original Datasets
- DSNY Litter Basket Inventory  
  link: https://data.cityofnewyork.us/dataset/DSNY-Litter-Basket-Inventory/8znf-7b2c/about_data
- Public Recycling Bins  
  link: https://data.world/city-of-ny/sxx4-xhzg

## Articles Referenced
- An innovative medical waste management system in a smart city using XAI and vehicle routing optimization (doi: 10.12688/f1000research.138867.2).
This article uses XAI techniques and vehicle route optimization for a medical waste management system. It was referenced in order to gain an understanding of how XAI techniques have been implemented in similar problems.
